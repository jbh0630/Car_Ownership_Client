{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport produce from \"immer\";\nimport { fetchPeopleLists, createPeopleList, destroyPeopleList, updatePeopleList } from \"./PeopleAPI\";\nexport let Status;\n\n(function (Status) {\n  Status[\"Initial\"] = \"Nothing fetched\";\n  Status[\"Loading\"] = \"Loading..\";\n  Status[\"Deleted\"] = \"Deleted!\";\n  Status[\"UpToDate\"] = \"It's up to date!\";\n  Status[\"Error\"] = \"Error\";\n})(Status || (Status = {}));\n\nconst initialState = {\n  peopleLists: [{\n    id: 0,\n    first_name: \"\",\n    last_name: \"\",\n    email: \"\"\n  }],\n  status: Status.Initial\n};\nexport const fetchPeopleListsAsync = createAsyncThunk('peopleLists/fetchPeopleLists', async () => {\n  const response = await fetchPeopleLists();\n  return response;\n});\nexport const createPeopleListAsync = createAsyncThunk('peopleLists/createPeopleList', async payload => {\n  const response = await createPeopleList(payload);\n  return response;\n});\nexport const destroyPeopleListAsync = createAsyncThunk('peopleLists/destroyPeopleList', async payload => {\n  const response = await destroyPeopleList(payload);\n  return response;\n});\nexport const updatePeopleListAsync = createAsyncThunk('peopleLists/updatePeopleList', async payload => {\n  const response = await updatePeopleList(payload);\n  return response;\n});\nexport const peopleListSlice = createSlice({\n  name: \"peopleLists\",\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchPeopleListsAsync.pending, state => {\n      return produce(state, draft => {\n        draft.status = Status.Loading;\n      });\n    }).addCase(fetchPeopleListsAsync.fulfilled, (state, action) => {\n      return produce(state, draft => {\n        draft.peopleLists = action.payload;\n        draft.status = Status.UpToDate;\n      });\n    }).addCase(fetchPeopleListsAsync.rejected, state => {\n      return produce(state, draft => {\n        draft.status = Status.Error;\n      });\n    })\n    /** Create */\n    .addCase(createPeopleListAsync.pending, state => {\n      return produce(state, draft => {\n        draft.status = Status.Loading;\n      });\n    }).addCase(createPeopleListAsync.fulfilled, (state, action) => {\n      return produce(state, draft => {\n        draft.peopleLists.push(action.payload);\n        draft.status = Status.UpToDate;\n      });\n    }).addCase(createPeopleListAsync.rejected, state => {\n      return produce(state, draft => {\n        draft.status = Status.Error;\n      });\n    })\n    /** Delete */\n    .addCase(destroyPeopleListAsync.pending, state => {\n      return produce(state, draft => {\n        draft.status = Status.Loading;\n      });\n    }).addCase(destroyPeopleListAsync.fulfilled, (state, action) => {\n      return produce(state, draft => {\n        draft.peopleLists = action.payload;\n        draft.status = Status.UpToDate;\n      });\n    }).addCase(destroyPeopleListAsync.rejected, state => {\n      return produce(state, draft => {\n        draft.status = Status.Error;\n      });\n    })\n    /**Update */\n    .addCase(updatePeopleListAsync.pending, state => {\n      return produce(state, draft => {\n        draft.status = Status.Loading;\n      });\n    }).addCase(updatePeopleListAsync.fulfilled, (state, action) => {\n      return produce(state, draft => {\n        const index = draft.peopleLists.findIndex(peopleList => peopleList.id === action.payload.id);\n        draft.peopleLists[index] = action.payload;\n        draft.status = Status.UpToDate;\n      });\n    }).addCase(updatePeopleListAsync.rejected, state => {\n      return produce(state, draft => {\n        draft.status = Status.Error;\n      });\n    });\n  }\n});\nexport const {} = peopleListSlice.actions;\nexport const selectPeopleLists = state => state.peopleLists.peopleLists;\nexport const selectPeopleStatus = state => state.peopleLists.status;\nexport default peopleListSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","produce","fetchPeopleLists","createPeopleList","destroyPeopleList","updatePeopleList","Status","initialState","peopleLists","id","first_name","last_name","email","status","Initial","fetchPeopleListsAsync","response","createPeopleListAsync","payload","destroyPeopleListAsync","updatePeopleListAsync","peopleListSlice","name","reducers","extraReducers","builder","addCase","pending","state","draft","Loading","fulfilled","action","UpToDate","rejected","Error","push","index","findIndex","peopleList","actions","selectPeopleLists","selectPeopleStatus","reducer"],"sources":["/Users/byeonghyeokjo/Desktop/artona/failed/src/features/lists/ListsSlice.tsx"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport produce from \"immer\";\nimport { RootState } from \"../../app/store\";\nimport { fetchPeopleLists, createPeopleList, destroyPeopleList, updatePeopleList } from \"./PeopleAPI\";\n\n\nexport enum Status {\n    Initial = \"Nothing fetched\",\n    Loading = \"Loading..\",\n    Deleted = \"Deleted!\",\n    UpToDate = \"It's up to date!\",\n    Error = \"Error\"\n}\n\nexport interface PeopleListFormData {\n    list: {\n        id?: string,\n        first_name?: string,\n        last_name?: string,\n        email?: string\n    }\n}\n\nexport interface PeopleListUpdataData {\n    id: number;\n    list: PeopleListState;\n}\n\nexport interface PeopleListDeleteData {\n    list: {\n        id: number;\n    }\n}\n\nexport interface PeopleListState {\n    id?: number,\n    first_name?: string,\n    last_name?: string,\n    email?: string\n    \n}\n\nexport interface PeopleListsState {\n    peopleLists: PeopleListState[];\n    status: string;\n}\n\nconst initialState: PeopleListsState = {\n    peopleLists: [\n        {\n            id: 0,\n            first_name: \"\",\n            last_name: \"\",\n            email: \"\"\n        }\n    ],\n    status: Status.Initial\n}  \n\nexport const fetchPeopleListsAsync = createAsyncThunk(\n    'peopleLists/fetchPeopleLists',\n    async () => {\n        const response = await fetchPeopleLists();\n        return response;\n    }\n);\n\nexport const createPeopleListAsync = createAsyncThunk(\n    'peopleLists/createPeopleList',\n    async (payload: PeopleListFormData) => {\n        const response = await createPeopleList(payload);\n        return response;\n    }\n);\n\nexport const destroyPeopleListAsync = createAsyncThunk(\n    'peopleLists/destroyPeopleList',\n    async (payload: PeopleListDeleteData) => {\n        const response = await destroyPeopleList(payload);\n        return response; \n    }\n);\n\nexport const updatePeopleListAsync = createAsyncThunk(\n    'peopleLists/updatePeopleList',\n   async (payload: PeopleListFormData) => {\n       const response = await updatePeopleList(payload);\n       return response;\n   }\n);\n\n\nexport const peopleListSlice = createSlice({\n    name: \"peopleLists\",\n    initialState,\n    reducers: {},\n    extraReducers: (builder) => {\n        builder\n            .addCase(fetchPeopleListsAsync.pending, (state) => {\n                return produce(state, (draft) => {\n                    draft.status = Status.Loading;\n                })\n            })\n            .addCase(fetchPeopleListsAsync.fulfilled, (state, action) => {\n                return produce(state, (draft) => {\n                    draft.peopleLists = action.payload;\n                    draft.status = Status.UpToDate;\n                })\n            })\n            .addCase(fetchPeopleListsAsync.rejected, (state) => {\n                return produce(state, (draft) => {\n                    draft.status = Status.Error;\n                })\n            })\n            /** Create */\n            .addCase(createPeopleListAsync.pending, (state) => {\n                return produce(state, (draft) => {\n                    draft.status = Status.Loading;\n                })\n            })\n            .addCase(createPeopleListAsync.fulfilled, (state, action) => {\n                return produce(state, (draft) => {\n                    draft.peopleLists.push(action.payload);\n                    draft.status = Status.UpToDate;\n                })\n            })\n            .addCase(createPeopleListAsync.rejected, (state) => {\n                return produce(state, (draft) => {\n                    draft.status = Status.Error;\n                })\n            })\n\n            /** Delete */\n            .addCase(destroyPeopleListAsync.pending, (state) => {\n                return produce(state, (draft) => {\n                    draft.status = Status.Loading;\n                })\n            })\n            .addCase(destroyPeopleListAsync.fulfilled, (state, action) => {\n                return produce(state, (draft) => {\n                    draft.peopleLists = action.payload;\n                    draft.status = Status.UpToDate;\n                })\n            })\n            .addCase(destroyPeopleListAsync.rejected, (state) => {\n                return produce(state, (draft) => {\n                    draft.status = Status.Error;\n                })\n            })\n\n            /**Update */\n            .addCase(updatePeopleListAsync.pending, (state) => {\n                return produce(state, (draft) => {\n                    draft.status = Status.Loading;\n                })\n            })\n            .addCase(updatePeopleListAsync.fulfilled, (state, action) => {\n                return produce(state, (draft) => {\n                    const index = draft.peopleLists.findIndex(\n                        peopleList => peopleList.id === action.payload.id\n                    );\n                    draft.peopleLists[index] = action.payload;\n                    draft.status = Status.UpToDate;\n                })\n            })\n            .addCase(updatePeopleListAsync.rejected, (state) => {\n                return produce(state, (draft) => {\n                    draft.status = Status.Error;\n                })\n            })\n    }\n});\n\nexport const {} = peopleListSlice.actions;\n\nexport const selectPeopleLists = (state: RootState) => state.peopleLists.peopleLists;\n\nexport const selectPeopleStatus = (state: RootState) => state.peopleLists.status;\n\nexport default peopleListSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}